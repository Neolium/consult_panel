var createBoxTab=function(t){var e=$(t),n=$("#action-edit"),o=$("#action-delete"),i=$(".box-table .box-typical-body"),a={row:null,dataset:null},s=function(){var t,e=$(window).height()-i.offset().top-38,n=250;t=n>=e?n+5:e-42,i.css("max-height",e+"px"),$(".dataTables_scrollBody").css({height:t,"max-height":t})},l=e.DataTable({select:{style:"single"},bScrollInfinite:!0,bScrollCollapse:!0,sScrollY:"10px",bLengthChange:!1,bAutoWidth:!1,searching:!0,sDom:"lrt",language:{zeroRecords:"Aucune formation n'a été trouvé.",infoEmpty:"Aucune formation.."}});$(window).resize(function(){s()}).resize(),$("#datatable-custom-search").on("keyup",function(){l.search(this.value).draw()}),l.on("select",function(t,e,i,s){n.removeClass("disabled"),o.removeClass("disabled"),a.row=l.row(s[0]),a.dataset=l.row(s[0]).node().dataset}).on("deselect",function(t,e,i,s){n.addClass("disabled"),o.addClass("disabled"),a.row=null,a.dataset=null}),$(t+" tbody a").on("click",function(t){t.stopPropagation()}),n.click(function(t){$(this).hasClass("disabled")||(location.href=a.dataset.edit)}),o.click(function(t){$(this).hasClass("disabled")||swal({title:"Êtes-vous sûr ?",text:"Voulez-vous supprimer cette formation ?",type:"warning",showCancelButton:!0,confirmButtonClass:"btn-danger",confirmButtonText:"Oui",cancelButtonText:"Non",closeOnConfirm:!1,closeOnCancel:!0},function(t){t&&$.get(a.dataset["delete"],function(){a.row.remove().draw(),swal({title:"Supprimée !",text:"La formation a bien été supprimée.",type:"success",confirmButtonClass:"btn-success"})})})})},signatureEdition=function(t){function e(t){var e;t.html&&(e=t.html),t.src&&(e='<img src="'+t.src+'" />'),swal({title:"",html:!0,text:e,allowOutsideClick:!0}),setTimeout(function(){$(".sweet-alert").css("margin",function(){var t=-1*($(this).height()/2),e=-1*($(this).width()/2);return t+"px 0 0 "+e+"px"})},1)}function n(t){if(t.files&&t.files[0]){var e=new FileReader;e.onload=function(t){o.bind({url:t.target.result})},e.readAsDataURL(t.files[0])}else swal("Erreur - Votre navigateur est trop vieux...")}var o,i=$(t),a=$("#signature_file_input_button"),s=$("#signature_file_input"),l=$("#save_button");console.log(a),o=new Croppie(i,{viewport:{width:300,height:180},boundary:{width:600,height:380},showZoomer:!0,enableOrientation:!0}),a.click(function(t){s.click()}),s.on("change",function(){l.toggle(),n(this)}),l.click(function(t){o.result({type:"canvas",size:"viewport"}).then(function(t){e({src:t})})})},cropSignatureImage=function(t){console.log("CRooping function");var e=document.getElementById(t),n=new Croppie(e,{viewport:{width:300,height:180},boundary:{width:600,height:380},showZoomer:!0,enableOrientation:!0});console.log("CRooping function 1"),n.bind({url:"/static/main/img/video-preview.jpg",orientation:1}),n.result("canvas").then(function(t){})};